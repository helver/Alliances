.TH TCPLIBGEN 1 "25 August 1991"
.SH NAME
tcplibgenh, tcplibgenc \- traffic characteristic library generator
.SH SYNOPSIS
.B tcplibgenh
.IR application
.sp
.B tcplibgenc
.IR application
.SH DESCRIPTION
The \fIMakefile\fR that comes with the TC distribution takes 
care of properly generating the library.  This manual page
serves more as a documentation for the \fIMakefile\fR.
.sp
.B tcplibgenh
parses
.I application.tc
and generates 
.I application.h\fR, 
which contains the characteristics of 
the application represented in arrays.  
The names of the arrays are as specified 
in the \fI.tc\fR file.
.sp
.B tcplibgenc 
similarly parses the \fI.tc\fR file to generate the file
.I application.c
containing the functions to access the arrays created by 
.B tcplibgenh\fR.  
The name of each function is generated by 
concatenating 
.I application
with '_' and the array name.  The 
.I application.c 
file generated by 
.B tcplibgenc
includes the 
.I application.h 
file generated by 
.B tcplibgenh\fR.
Since the arrays of an application
are static within its \fI.c\fR file, there will be no name conflict.
This \fI.c\fR file should then be compiled and added to the library
.I libtcp.a\fR (\fBtcplib(3N)\fR)
with the help of \fBar(1V)\fR and \fBranlib(1)\fR.
.sp
.B tcplibgenc 
also registers the functions into the file \fItcapps.h\fR
which should be included in all files making calls to the
library.
.SH FILE FORMAT
Each application
to be characterized should have a \fI.tc\fR
file with the following format:
.IP
array_name  data_type  data_file
.PP
where data_type can be any valid C types.
Data_file is the ASCII file where the data is kept.  
.SH EXAMPLE
With the following \fItelnet.tc\fR file:
.IP
pktsize       int     data/telnet.pktsize
.br
interarrival  float   data/telnet.interarrival
.br
duration      float   data/telnet.duration
.PP
The command 
.IP
% tcplibgenh telnet
.PP
will generate \fItelnet.h\fR with the static arrays: pktsize,
interarrival, and duration.  While the command 
.IP
% tcplibgenc telnet
.PP
will generate \fItelnet.c\fR and add the following to \fItcapps.h\fR:
.IP
.nf
/*
 * telnet
*/
extern int telnet_pktsize();
extern float telnet_interarrival();
extern float telnet_duration();
.fi
.SH "SEE ALSO"
.BR tcplib(3N),
.BR ar(1V),
.BR ranlib(1).
.sp
The 
.B Makefile 
that comes with the ditribution makes a 
.I libtcp.a 
that consists of telnet, ftp, nntp, and smtp.
.sp
Danzig, P.B. and Jamin, S.,
.I tcplib: A Library of TCP Internetwork Traffic Characteristics\fR,
USC-CS-91-495, Sept. '91.
.sp
Caceres, R., Danzig, P.B., Jamin, S., and Mitzel, D.J.,
"Characteristics of Wide-Area TCP/IP Conversations,"
.I Proc. of ACM SIGCOMM '91\fR,
Sept. '91.
